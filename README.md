Эко‑Платформа ПМР
=================

Современный учебный веб‑проект, посвящённый устойчивому образу жизни и экологически ответственному потреблению в ПМР.  
Проект выполнен как набор **статических HTML‑страниц** с модульной версткой (БЭМ‑блоки) и «живой» логикой на чистом JavaScript.

Структура проекта
-----------------

- **`eco-platform/docs/`** – основные страницы сайта:
  - `index.html` – дашборд пользователя (эко‑баллы, привычки, инициативы, рекомендации товаров и статей).
  - `products.html` – каталог эко‑товаров с фильтрами и модальными окнами.
  - `favorites.html` – страница избранного (товары, точки карты, статьи).
  - `articles.html` – список образовательных эко‑статей с фильтрацией, поиском и модальным просмотром.
  - `initiatives.html` – эко‑инициативы/челленджи с прогрессом и чек‑листами.
  - `map.html` – интерактивная карта эко‑точек (Leaflet).
  - `calculator.html` – набор экологических калькуляторов.

- **`eco-platform/js/`** – логика:
  - `dashboard.js` – дашборд пользователя, работа с быстрыми статистиками, привычками, достижениями.
  - `data-manager.js` – единый менеджер данных (localStorage, статистика, события `ecodata-updated`).
  - `products.js` – каталог товаров, фильтры, модальное окно товара, отзывы и избранное.
  - `favorites.js` – страница избранного (товары, точки карты, статьи).
  - `articles.js` – загрузка статей из `json/articles.json`, фильтры, поиск, модалка, шаринг и сохранение.
  - `initiatives.js` – список инициатив, прогресс по задачам, интеграция с `DataManager`.
  - `map.js` – карта точек с Leaflet, фильтрация, избранное, посещённые, привязка к дашборду.
  - `calculator.js` – три калькулятора (экослед, CO₂, экономия ресурсов) с графиками на Chart.js.
  - `nav.js` – адаптивное мобильное меню.

- **`eco-platform/blocks/`** – все стили проекта, объединённые в `blocks.css` (подключается на всех страницах).
- **`eco-platform/images/`** – изображения товаров, статей и т.п.
- **`eco-platform/json/`** – данные:
  - `articles.json` – список статей.
  - `initiatives.json` – (опционально, если используется) данные инициатив.

Технологии
----------

- Чистый **HTML5 / CSS3 / JavaScript (ES6+)**, без фреймворков.
- БЭМ‑подход в именовании классов.
- **Leaflet** для карты (`map.html`).
- **Chart.js** для диаграмм в калькуляторах и дашборде.
- **AOS** (Animate On Scroll) для анимаций на дашборде.
- Хранение пользовательских данных в **`localStorage`** (привычки, инициативы, достижения, избранное и история калькуляторов).

Запуск проекта
--------------

Из‑за использования `fetch` для загрузки JSON‑файлов (например, статей) **нельзя** открывать страницы напрямую через `file://`.  
Нужно запустить простой локальный HTTP‑сервер из папки `eco-platform`.

### Вариант 1. Python

1. Откройте терминал/PowerShell в папке `eco-platform`.
2. Выполните:

   ```bash
   python -m http.server 8000
   ```

3.61→3. В браузере перейдите, например, на:
62→   - `http://localhost:8000/docs/index.html`
63→   - `http://localhost:8000/docs/products.html`
64→   - `http://localhost:8000/docs/articles.html` и т.д.

### Вариант 2. Любой другой локальный сервер

Можно использовать:

- Live Server в VS Code / Cursor.
- Любой статический сервер (`npx serve`, встроенный сервер IDE и т.п.).

Главное – корнем сервера должна быть папка `eco-platform`,  
чтобы пути вида `../js/*.js`, `../json/*.json`, `../images/...` работали корректно.

Основные сценарии работы
------------------------

- **Дашборд (`dashboard.html`)**
  - Быстрая статистика: эко‑баллы, сэкономленный CO₂, вода, переработанные отходы.
  - Быстрые привычки (кнопки) → изменение статистики и достижений.
  - Блоки: активные инициативы, рекомендованные товары, последние статьи, достижения.
  - Управление данными: диалог полного сброса (через `DataManager.resetAllData()`).

- **Эко‑товары (`products.html`)**
  - Фильтрация по категории, сертификату, стране и цене.
  - Модальное окно товара с отзывами, избранным и кнопкой «Поделиться».
  - Избранное хранится в `localStorage` (`favorites`), используется на странице `favorites.html`.

- **Избранное (`favorites.html`)**
  - Выводит:
    - сохранённые товары (`localStorage.favorites`),
    - избранные точки карты (`localStorage.mapFavorites`),
    - сохранённые статьи (`localStorage.articleFavorites`).

- **Статьи (`articles.html`)**
  - Загрузка данных из `json/articles.json`.
  - Фильтрация по категории и дате, текстовый поиск по содержанию.
  - Модальное окно с полной статьёй, кнопками шаринга и сохранения в избранное.

- **Инициативы (`initiatives.html`)**
  - Список инициатив с прогрессом, чек‑листом и наградами.
  - Статистика: выполненные задачи, завершённые инициативы, эко‑баллы.
  - Данные инициатив и прогресса хранятся и обновляются через `DataManager` (`localStorage`).

- **Карта (`map.html`)**
  - Leaflet‑карта с эко‑точками (приём батареек, эко‑магазины, компостирование).
  - Фильтры по категории и дальности, поиск по названию/адресу.
  - Избранное (`mapFavorites`), отметка посещённых точек, вывод статистики по посещениям.

- **Калькуляторы (`calculator.html`)**
  - Экологический след: сводный балл + рекомендации + круговая диаграмма.
  - Углеродный след: CO₂ от транспорта, энергии, отопления + эквиваленты и бар‑диаграмма.
  - Экономия ресурсов: рубли ПМР по видам ресурсов + полярная диаграмма.
  - История расчётов сохраняется в `localStorage` (`ecoCalculations`, `carbonCalculations`, `savingsCalculations`).

Хранение данных
---------------

Все пользовательские данные хранятся **локально в браузере**:

- `ecoplatform_user` – основной объект данных `DataManager` (баллы, метрики, привычки, инициативы, достижения и т.п.).
- `favorites` – избранные товары.
- `mapFavorites` – избранные точки карты.
- `visitedPoints` – посещённые точки (по категориям).
- `articleFavorites` – сохранённые статьи.
- `reviews_*` – отзывы по товарам (формат `reviews_<id>`).
- `ecoCalculations`, `carbonCalculations`, `savingsCalculations` – история калькуляторов.

Замечания по использованию
--------------------------

- Проект рассчитан на запуск **локально через браузер** и не требует сервера‑бэкенда.
- Для корректной работы всех страниц (особенно статей, избранного и инициатив) важно:
  - запускать через HTTP‑сервер,
  - не менять относительные пути в `html`/`js`/`json` без необходимости.

Если нужно что‑то изменить или расширить (добавить новые товары, статьи, инициативы, точки на карте и т.п.),  
достаточно отредактировать соответствующие JSON/JS‑массивы и, при необходимости, стили в `blocks.css`.


